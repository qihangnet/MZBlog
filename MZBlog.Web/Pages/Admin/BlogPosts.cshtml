@page "/admin/posts"
@model MZBlog.Web.Pages.Admin.BlogPostsModel
@{
    ViewData["Title"] = "AdminBlogPosts";
}

<h2>
    <i class="fa fa-list" aria-hidden="true"></i> 文章管理
    <a class="pull-right btn btn-success" style="font-size:12px;" href="/admin/posts/new">
        <i class="fa fa-edit"></i>
        新建
    </a>
</h2>

<table class=" table table-hover table-bordered">
    <thead>
        <tr>
            <th>标题</th>
            <th>状态</th>
            <th>时间</th>
            <th>标签</th>
            <th>作者</th>
            <th>阅读</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.BlogPosts.Posts)
        {
            <tr>
                <td><a href="/admin/posts/edit/@item.Id"> @item.Title</a></td>
                <td>@item.Status</td>
                <td>@item.CreatedUTC.ToString("yyyy-MM-dd HH:mm:ss")</td>
                <td>@string.Join(",", item.Tags)</td>
                <td>@item.AuthorDisplayName</td>
                <td>@item.ViewCount</td>
            </tr>
        }
    </tbody>
    <tfoot>
        <tr>
            <td colspan="6">
                @if(Model.BlogPosts.HasPrevPage)
                {
                <a href="?page=@(Model.BlogPosts.Page-1)" class="btn btn-primary pull-left"><i class="fa fa-arrow-left" aria-hidden="true"></i> 上一页</a>
                }
                @if(Model.BlogPosts.HasNextPage)
                {
                <a href="?page=@(Model.BlogPosts.Page+1)" class="btn btn-primary pull-right">下一页 <i class="fa fa-arrow-right" aria-hidden="true"></i></a>
                }
            </td>
        </tr>
    </tfoot>
</table>